var scene7html5Loader=(function(a,c){function b(){if(typeof s7viewers=="undefined"){s7viewers={}}else{if(typeof s7viewers!="object"){throw new Error('Cannot initialize a root "s7viewers" package. s7viewers is not an object')}}if(!s7viewers.MixedMediaViewer){s7viewers.MixedMediaViewer=function(){this.sdkBasePath="https://s7d1.scene7.com/s7sdk/2.6/";this.containerId="mixedmediaviewer";this.params={};this.onInitComplete=null;this.onInitFail=null;this.initializationComplete=false};s7viewers.MixedMediaViewer.cssClassName="s7mixedmediaviewer";s7viewers.MixedMediaViewer.prototype.setContainerId=function(d){this.containerId=d||null};s7viewers.MixedMediaViewer.prototype.includeViewer=function(e){var f,d=this;s7sdk.Util.require("s7sdk.common.Container");s7sdk.Util.require("s7sdk.event.Event");s7sdk.Util.require("s7sdk.common.Button");s7sdk.Util.require("s7sdk.image.FlyoutZoomView");s7sdk.Util.require("s7sdk.set.MediaSet");s7sdk.Util.require("s7sdk.set.Swatches");s7sdk.Util.require("s7sdk.video.VideoControls");s7sdk.Util.require("s7sdk.video.VideoPlayer");s7sdk.Util.require("s7sdk.common.ControlBar");d.s7params=new s7sdk.ParameterManager(null,null,{asset:"MediaSet.asset"});d.s7params.setViewer("505, $VERSION$");d.sku=e.sku;d.companyID=e.company;d.badge=e.badge;d.initialFrame=0;f=document.getElementById(this.containerId);if(f.className!==""){if(f.className.indexOf(s7viewers.MixedMediaViewer.cssClassName)>-1){f.className+=" "+s7viewers.MixedMediaViewer.cssClassName}}else{f.className=s7viewers.MixedMediaViewer.cssClassName}function g(){d.s7params.push("Swatches.tmblayout","0,1");d.s7params.push("Swatches.textpos","none");d.s7params.push("VideoPlayer.autoplay","1");d.s7params.push("serverurl","https://odeu.scene7.com/is/image/");d.s7params.push("videoserverurl","https://odeu.scene7.com/e2/");d.s7params.push("FlyoutZoomView.tip","0,0,0");d.s7params.push("posterimage",d.companyID+"/"+d.sku);d.s7params.push("asset",d.companyID+"/"+d.sku);d.s7params.push("fmt","png");if(s7sdk.browser.device.name!="desktop"){d.s7params.push("Swatches.enablescrollbuttons","0")}d.sdkContainer=new s7sdk.Container(d.containerId,d.s7params,d.containerId+"_container");d.containerHeight=d.sdkContainer.hei;d.swatches=new s7sdk.Swatches(d.containerId+"_container",d.s7params,d.containerId+"_swatches");d.swatchesHeight=d.swatches.size.height;d.s7flyout=new s7sdk.FlyoutZoomView(d.containerId+"_container",d.s7params,d.containerId+"_flyout");d.toolbarContainer=document.createElement("div");d.toolbarContainer.className="s7toolbarcontainer";d.toolbarContainer.setAttribute("id",d.containerId+"_toolbarContainer");d.toolbarContainer.style.position="absolute";d.toolbarContainer.style.width=d.sdkContainer.wid+"px";d.toolbarContainer.style.top=d.containerHeight-d.swatchesHeight+"px";d.toolbarContainer.style.height="0px";d.toolbarContainer.style.zIndex="1";d.sdkContainer.obj.appendChild(d.toolbarContainer);if(d.badge!==""){var h=document.createElement("img");h.setAttribute("id","s7Badge");h.src=d.s7params.params.serverurl+d.companyID+"/"+d.badge+"?$100$&fmt=png-alpha";d.sdkContainer.obj.appendChild(h)}d.videoPlayer=new s7sdk.video.VideoPlayer(d.containerId+"_container",d.s7params,d.containerId+"_videoPlayer");d.videoControls=new s7sdk.common.ControlBar(d.containerId+"_container",d.s7params,d.containerId+"_controls");d.bcr_videoControls=d.videoControls.obj.getBoundingClientRect();d.videoControlsHeight=d.bcr_videoControls.bottom-d.bcr_videoControls.top;d.videoControls.attachView(d.videoPlayer);d.playPauseButton=new s7sdk.common.PlayPauseButton(d.containerId+"_controls",d.s7params,d.containerId+"_playPauseButton");d.videoScrubber=new s7sdk.video.VideoScrubber(d.containerId+"_controls",d.s7params,d.containerId+"_videoScrubber");d.videoTime=new s7sdk.VideoTime(d.containerId+"_controls",d.s7params,d.containerId+"_videoTime");d.bcr_playPauseButton=d.playPauseButton.obj.getBoundingClientRect();d.bcr_videoTime=d.videoTime.obj.getBoundingClientRect();d.bcr_videoScrubber=d.videoScrubber.obj.getBoundingClientRect();d.mutableVolume=new s7sdk.video.MutableVolume(d.containerId+"_controls",d.s7params,d.containerId+"_mutableVolume");d.videoFullScreenButton=new s7sdk.common.FullScreenButton(d.containerId+"_controls",d.s7params,d.containerId+"_videofullScreenButton");d.supportsInline=d.videoPlayer.supportsInline();if(!d.supportsInline){d.videoControls.obj.style.display="none"}if((d.s7params.get("closeButton","0")=="1")||(d.s7params.get("closeButton","0").toLowerCase()=="true")){d.closeButton=new s7sdk.common.CloseButton(d.containerId+"_container",d.s7params,d.containerId+"_closeButton");d.closeButton.addEventListener("click",closeWindow)}d.fullScreenButton=new s7sdk.common.FullScreenButton(d.containerId+"_toolbarContainer",d.s7params,d.containerId+"_fullScreenButton");if(!d.sdkContainer.hasCustomSize&&!d.sdkContainer.supportsNativeFullScreen()){d.videoFullScreenButton.obj.style.display="none";d.fullScreenButton.obj.style.display="none"}d.viewerPreparation(true);d.mediaSet=new s7sdk.MediaSet(null,d.s7params,d.containerId+"_mediaSet");if(s7sdk.browser.device.name!=="desktop"){if(d.supportsInline){d.visibilityManagerVideo=new s7sdk.VisibilityManager();d.visibilityManagerVideo.reference(d.videoPlayer);d.visibilityManagerVideo.attach(d.closeButton);d.visibilityManagerVideo.attach(d.videoControls);d.visibilityManagerVideo.attach(d.swatches)}}d.bindListeners.call(d)}d.s7params.addEventListener(s7sdk.Event.SDK_READY,function(){g()},false);d.s7params.init()};s7viewers.MixedMediaViewer.prototype.viewerPreparation=function(e){var d=this;d.toolbarContainer.style.display="none";d.videoPlayer.stop();d.videoControls.obj.style.visibility="hidden";d.showHide(d.videoPlayer.obj,false);if(!e){scene7html5Loader.hideLoadingImage()}};s7viewers.MixedMediaViewer.prototype.showHide=function(e,d){if(e&&e.style){if(!d){e.style.position="absolute";e.style.left="-99999px"}else{e.style.left="0px"}}};s7viewers.MixedMediaViewer.prototype.bindListeners=function(){var p=this,k=window.setInterval(function(){var w=document.getElementById("mixedmediaviewer_flyout");if(w!==null){window.clearInterval(k);c("#mixedmediaviewer_flyout").on("mouseover mouseout",s)}},10);p.swatches.addEventListener(s7sdk.AssetEvent.SWATCH_SELECTED_EVENT,t,false);p.mediaSet.addEventListener(s7sdk.AssetEvent.NOTF_SET_PARSED,m,false);p.sdkContainer.addEventListener(s7sdk.event.ResizeEvent.COMPONENT_RESIZE,e,false);p.sdkContainer.addEventListener(s7sdk.event.ResizeEvent.FULLSCREEN_RESIZE,h,false);p.fullScreenButton.addEventListener("click",i);p.videoFullScreenButton.addEventListener("click",i);p.videoPlayer.addEventListener(s7sdk.event.CapabilityStateEvent.NOTF_VIDEO_CAPABILITY_STATE,l,false);p.videoPlayer.addEventListener(s7sdk.event.VideoEvent.NOTF_DURATION,n,false);p.videoPlayer.addEventListener(s7sdk.event.VideoEvent.NOTF_LOAD_PROGRESS,u,false);p.videoPlayer.addEventListener(s7sdk.event.VideoEvent.NOTF_CURRENT_TIME,o,false);p.playPauseButton.addEventListener("click",q);p.videoScrubber.addEventListener(s7sdk.SliderEvent.NOTF_SLIDER_UP,j,false);p.mutableVolume.addEventListener("click",g);p.mutableVolume.addEventListener(s7sdk.SliderEvent.NOTF_SLIDER_DOWN,v,false);p.mutableVolume.addEventListener(s7sdk.SliderEvent.NOTF_SLIDER_MOVE,f,false);p.mutableVolume.addEventListener(s7sdk.SliderEvent.NOTF_SLIDER_UP,f,false);if(("onorientationchange" in window)&&s7sdk.browser.device!==""){window.addEventListener("orientationchange",d)}function s(C){var w=this,D=document.getElementById("s7Tip"),x=(C.type=="mouseover"?"none":"block"),y,B,z;if(w.className.indexOf("isPositioned")<0){var A=window.setInterval(function(){y=p.s7flyout.obj.getElementsByTagName("div");if(y!==null){window.clearInterval(A);B=document.getElementById("skuEntityLogo").scrollHeight;for(z in y){if((" "+y[z].className+" ").indexOf(" s7flyoutzoom ")>-1){y[z].style.top=Math.round(-15+(B*-1))+"px";y[z].style.width="460px";y[z].style.height="348px"}}w.className+=" isPositioned"}},10)}D.style.display=x;D.style.opacity=1;if(p.badge!==""){document.getElementById("s7Badge").style.display=x}}function d(w){}function m(w){p.s7mediasetDesc=w.s7event.asset;p.currentSwatchesFrame=null;p.initialFrame=Math.max(0,parseInt((typeof(p.s7params.get("initialframe"))!="undefined")?p.s7params.get("initialframe"):0,10));if(p.initialFrame>=p.s7mediasetDesc.items.length){p.initialFrame=0}if(p.s7mediasetDesc.items.length==1){p.singleImage=true;p.swatches.obj.style.visibility="hidden";p.swatches.setMediaSet(p.s7mediasetDesc);p.swatches.selectSwatch(0,true);if(p.sdkContainer.hasCustomSize){p.sdkContainer.resize(p.sdkContainer.wid,p.containerHeight-p.swatchesHeight)}else{p.sdkContainer.resize(p.sdkContainer.wid,p.containerHeight)}}else{p.singleImage=false;p.swatches.setMediaSet(p.s7mediasetDesc);p.swatches.selectSwatch(p.initialFrame,true);p.swatches.obj.style.visibility="inherit";p.sdkContainer.resize(p.sdkContainer.wid,p.containerHeight)}}function i(){var y=document.getElementById("contentWrapper"),x=document.getElementById("contentContainer"),w=document.getElementById("footerPersistent");if(!p.sdkContainer.isFullScreen()){if(p.closeButton){p.closeButton.obj.style.display="none"}p.swatches.obj.style.visibility="hidden";x.style.overflow="visible";y.style.zIndex="99999999";y.style.position="relative";p.sdkContainer.requestFullScreen()}else{if(p.closeButton){p.closeButton.obj.style.display="block"}p.swatches.obj.style.visibility="visible";x.style.overflow="hidden";y.style.zIndex="1";y.style.position="static";p.sdkContainer.cancelFullScreen()}}function e(A){if((typeof(A.target)=="undefined")||(A.target==p.sdkContainer.obj)){var C=A.s7event.h,z=p.playPauseButton.obj.getBoundingClientRect(),x=p.videoTime.obj.getBoundingClientRect(),w=p.videoScrubber.obj.getBoundingClientRect(),y=document.getElementById("skuImage"),B;if(p.sdkContainer.hasCustomSize){if(p.singleImage){C=A.s7event.h}else{if(p.sdkContainer.isFullScreen()){C=Math.max(A.s7event.h,1)}else{C=Math.max(A.s7event.h-p.swatchesHeight,1);B=document.getElementById("contentWrapper");p.swatches.obj.style.visibility="visible";document.getElementById("contentContainer").style.overflow="hidden";B.style.zIndex="1";B.style.position="static"}}}else{if(!p.singleImage){C=Math.max(A.s7event.h-p.swatchesHeight,1)}}if(p.closeButton){if(p.sdkContainer.isFullScreen()){p.closeButton.obj.style.display="none"}else{p.closeButton.obj.style.display="block"}}p.toolbarContainer.style.top=C+"px";p.toolbarContainer.style.width=A.s7event.w+"px";p.videoControls.obj.style.top=C-p.videoControlsHeight+"px";p.videoControls.obj.style.width=A.s7event.w+"px";if(p.sdkContainer.isFullScreen()){p.videoScrubber.resize(x.left-z.right-10,(w.bottom-w.top))}else{p.videoScrubber.resize(102,(w.bottom-w.top))}if(s7sdk.browser.device.name!="desktop"){p.videoPlayer.resize(A.s7event.w,A.s7event.h)}else{p.videoPlayer.resize(A.s7event.w,(C+20))}p.swatches.resize(A.s7event.w,p.swatchesHeight);skuImageHeight="0px";if(!p.singleImage){skuImageHeight=(C+(p.swatchesHeight*2))+"px";y.className=y.className.length>0?" multipleImages":"multipleImages"}else{skuImageHeight=(C+40)+"px"}document.getElementById("mixedmediaviewer").style.height=C+"px";y.style.height=skuImageHeight}}function h(w){if(p.closeButton){if(p.sdkContainer.isFullScreen()){p.closeButton.obj.style.display="none"}else{p.closeButton.obj.style.display="block"}}p.fullScreenButton.setSelected(p.sdkContainer.isFullScreen());p.videoFullScreenButton.setSelected(p.sdkContainer.isFullScreen())}function l(w){this.playPauseButton.setSelected(w.s7event.state.hasCapability(s7sdk.VideoCapabilityState.PLAY))}function n(w){p.videoTime.setDuration(w.s7event.data);p.videoScrubber.setDuration(w.s7event.data)}function u(w){this.videoScrubber.setLoadedPosition(w.s7event.data)}function o(w){p.videoTime.setPlayedTime(w.s7event.data);p.videoScrubber.setPlayedTime(w.s7event.data)}function q(w){var x;if(!p.playPauseButton.isSelected()){x=p.videoPlayer.getDuration()-p.videoPlayer.getCurrentTime();if(x<=1){p.videoPlayer.seek(0)}p.videoPlayer.play()}else{p.videoPlayer.pause()}}function j(w){p.videoPlayer.seek(w.s7event.position*p.videoPlayer.getDuration())}function g(w){if(p.mutableVolume.isSelected()){p.videoPlayer.mute()}else{p.videoPlayer.unmute();p.videoPlayer.setVolume(p.mutableVolume.getPosition())}}function v(w){this.videoPlayer.unmute()}function f(w){this.videoPlayer.setVolume(w.s7event.position)}function t(x){var w=x.s7event.asset;if(p.currentSwatchesFrame!=x.s7event.frame){p.viewerPreparation(false);switch(w.type){case s7sdk.ItemDescType.IMG:if(p.s7flyout){p.s7flyout.setItem(w);document.getElementById("s7Tip").style.display="block";if(p.badge!==""){document.getElementById("s7Badge").style.display="block"}}break;case s7sdk.ItemDescType.IMAGE_SET:if(p.s7flyout){p.s7flyout.setItem(w);document.getElementById("s7Tip").style.display="block";if(p.badge!==""){document.getElementById("s7Badge").style.display="block"}}break;case s7sdk.ItemDescType.VIDEO:if(p.videoPlayer){p.activeView=p.videoPlayer;p.videoPlayer.setItem(w);p.videoControls.obj.style.visibility="inherit";p.showHide(p.videoPlayer.obj,true);document.getElementById("s7Tip").style.display="none";if(p.badge!==""){document.getElementById("s7Badge").style.display="none"}}break;case s7sdk.ItemDescType.VIDEO_SET:if(p.videoPlayer){p.activeView=p.videoPlayer;p.videoPlayer.setItem(w);p.videoControls.obj.style.visibility="inherit";p.showHide(p.videoPlayer.obj,true);document.getElementById("s7Tip").style.display="none";if(p.badge!==""){document.getElementById("s7Badge").style.display="none"}}break;default:break}}p.currentSwatchesFrame=x.s7event.frame}function r(){try{if(s7sdk.browser.name!="firefox"){window.open("s7sdkclose.html","_self")}else{window.close()}}catch(w){s7sdk.Logger.log(s7sdk.Logger.WARN,"Cannot close the window")}}};s7viewers.MixedMediaViewer.prototype.s7sdkUtilsAvailable=function(){return(typeof s7sdk!=="undefined")};s7viewers.MixedMediaViewer.prototype.init=function(f){var e=this.sdkBasePath+"js/s7sdk/utils/Utils.js",g=document.createElement("script"),d=this;g.setAttribute("type","text/javascript");g.setAttribute("src",e);g.onload=g.onerror=function(){if(!this.executed){this.executed=true;if(d.s7sdkUtilsAvailable()&&s7sdk.Util){s7sdk.Util.init();d.includeViewer(f);d.initializationComplete=true}}};g.onreadystatechange=function(){var h=this;if(this.readyState==="complete"||this.readyState==="loaded"){h.onload();h.onreadystatechange=null}};document.getElementsByTagName("head")[0].appendChild(g)};s7viewers.MixedMediaViewer.prototype.destroy=function(){c("#"+this.sdkContainer.id).remove();document.getElementById("s7Tip").style.display="none"}}}a.destroy=function(){mixedMediaViewer.destroy()};a.showLoadingImage=function(){common_uielements.showAjaxLoadingInsideElement("#mixedmediaviewer")};a.hideLoadingImage=function(){common_uielements.hideAjaxLoading()};mixedMediaViewer:undefined;a.ready=function(d){b();mixedMediaViewer=new s7viewers.MixedMediaViewer();mixedMediaViewer.setContainerId("mixedmediaviewer");mixedMediaViewer.init(d)};return a}(scene7html5Loader||{},jQuery));